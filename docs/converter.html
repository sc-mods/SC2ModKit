<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>JSON/XML Viewer</title>
  <link rel="stylesheet" href="./style.css">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/monaco-editor/0.45.0/min/vs/loader.min.js"></script>
</head>
<body>

<header class="toolbar">
  <button id="btn-xml-to-json" title="Convert XML → JSON">➡️</button>
  <button id="btn-json-to-xml" title="Convert JSON → XML">⬅️</button>
  <button id="btn-reset" title="Reset Editors">♻️</button>
  <button id="btn-download-zip" title="Download ZIP">💾</button>
  <button id="btn-merge" title="Merge mods into one">📦</button>
  <button id="btn-new-mod" title="New mod">🆕</button>
  <button id="btn-new-file" title="New File">📄</button>
  <button id="btn-remove-file" title="Remove File">🗑️</button>


  <label class="upload-btn" title="Upload XML or ZIP">📁
    <input type="file" id="file-input" accept=".xml,.zip,.sc2mod,.sc2map" hidden  >
  </label>
  <!-- <label class="upload-btn" title="Upload Directory">📁
    <input type="file" id="dir-input" hidden webkitdirectory multiple >  
  </label> -->

  <!-- <span id="uploadInfo" class="upload-info"></span> -->
</header>
  <div id="mod-bar" class="mod-bar"></div>

<!-- Default data for initial load -->
<script type="text/xml" id="sc2-xml">
<Catalog>
  <CActorUnit default="1" id="GenericUnitMinimal">
    <StatusColors index="Shields" BackgroundColor="255,0,0,0" EmptyColor="255,80,80,80">
      <ColorArray value="255,0,0,255"/>
    </StatusColors>
  </CActorUnit>
</Catalog>
</script>

<script type="application/json" id="sc2-json">
{
  "Catalog": [
    {
      "id": "Ghost",
      "Race": "Terr",
      "AbilArray": [
        { "Link": "stop" },
        { "Link": "attack" }
      ],
      "class": "CUnit"
    }
  ]
}
</script>

<!-- Main layout -->
<div class="main">
  <div class="file-bar-wrapper">
    <button id="scroll-left" class="scroll-btn" title="Scroll Left">⬅️</button>
    <div id="file-list" class="file-bar"></div>
    <button id="scroll-right" class="scroll-btn" title="Scroll Right">➡️</button>
  </div>

  <div class="editor-container">
    <div class="editor" id="editor-xml"></div>
    <div class="editor" id="editor-json"></div>
  </div>

  <div id="diff-summary" class="diff-summary"></div>
</div>

<script type="module">
  import ConverterApp from './converter.js';
  new ConverterApp();
</script>

</body>
</html>
